# Copyright (c) 2021-2024 AXE, Inc.
# SPDX-License-Identifier: GPL-3.0-or-later

HLSDIR = hls
SRCS = $(wildcard $(HLSDIR)/*.cpp)
HDRS = $(wildcard $(HLSDIR)/*.hpp)
VERILOGTOP = proj_ros2/solution1/syn/verilog/ros2.v

.PHONY: synth clean format
synth: $(VERILOGTOP)

$(VERILOGTOP): $(SRCS) $(HDRS) run_hls.tcl
	vitis_hls run_hls.tcl

clean:
	rm -rf proj_ros2
	rm -rf *.log

format:
	find hls/*.cpp | xargs clang-format -i
	find hls/*.hpp | xargs clang-format -i
